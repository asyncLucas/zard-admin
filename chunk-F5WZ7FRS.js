import{Ca as i,Pc as h,X as o}from"./chunk-6PIBYNDT.js";var m=class s{storageKey="theme";systemDarkQuery=window.matchMedia("(prefers-color-scheme: dark)");currentTheme=i(this.loadSavedTheme());effectiveTheme=i("light");isLight=h(()=>this.effectiveTheme()==="light");isDark=h(()=>this.effectiveTheme()==="dark");constructor(){this.initTheme(),this.systemDarkQuery.addEventListener("change",e=>{if(this.currentTheme()==="system"){let t=e.matches?"dark":"light";this.applyTheme("system",t)}})}initTheme(){let e=this.currentTheme(),t=this.resolveEffectiveTheme(e);this.applyTheme(e,t)}toggleTheme(){let e=this.currentTheme(),t=e==="light"?"dark":e==="dark"?"system":"light",r=this.resolveEffectiveTheme(t);this.applyTheme(t,r)}setTheme(e){let t=this.resolveEffectiveTheme(e);this.applyTheme(e,t)}loadSavedTheme(){let e=localStorage.getItem(this.storageKey);return e==="light"||e==="dark"||e==="system"?e:"system"}resolveEffectiveTheme(e){return e==="system"?this.systemDarkQuery.matches?"dark":"light":e}applyTheme(e,t){let r=document.documentElement,a=t==="dark";r.classList.toggle("dark",a),r.setAttribute("data-theme",e),r.setAttribute("data-theme-effective",t),r.style.colorScheme=a?"dark":"light",localStorage.setItem(this.storageKey,e),this.currentTheme.set(e),this.effectiveTheme.set(t)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=o({token:s,factory:s.\u0275fac,providedIn:"root"})};export{m as a};
