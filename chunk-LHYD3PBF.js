import{Aa as $,C as _,F as v,Hc as E,N as M,Q as V,X as g,Y as J,_ as U,ba as u,f as D,jb as q,kb as G,l as T,lb as z,n as c,p as A,pa as x,t as R,u as j,v as H}from"./chunk-BKGHEENM.js";import{a as p}from"./chunk-3BTAOYAI.js";function mt(e){return e}var w=class{},Q=(()=>{class e{handle(t){return t.key}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),b=class{},X=(()=>{class e extends b{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=x(e)))(r||e)}})();static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),L=class{},Y=(()=>{class e extends L{getTranslation(t){return T({})}static \u0275fac=(()=>{let t;return function(r){return(t||(t=x(e)))(r||e)}})();static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();function k(e,i){if(e===i)return!0;if(e===null||i===null)return!1;if(e!==e&&i!==i)return!0;let t=typeof e,n=typeof i,r;if(t==n&&t=="object")if(Array.isArray(e)){if(!Array.isArray(i))return!1;if((r=e.length)==i.length){for(let s=0;s<r;s++)if(!k(e[s],i[s]))return!1;return!0}}else{if(Array.isArray(i))return!1;if(h(e)&&h(i)){let s=Object.create(null);for(let a in e){if(!k(e[a],i[a]))return!1;s[a]=!0}for(let a in i)if(!(a in s)&&typeof i[a]<"u")return!1;return!0}}return!1}function l(e){return typeof e<"u"&&e!==null}function W(e){return e!==void 0}function h(e){return y(e)&&!f(e)&&e!==null}function y(e){return typeof e=="object"&&e!==null}function f(e){return Array.isArray(e)}function S(e){return typeof e=="string"}function ot(e){return typeof e=="function"}function I(e){if(f(e))return e.map(i=>I(i));if(h(e)){let i={};return Object.keys(e).forEach(t=>{i[t]=I(e[t])}),i}else return e}function B(e,i){if(!y(e))return I(i);let t=I(e);return y(t)&&y(i)&&Object.keys(i).forEach(n=>{h(i[n])?n in e?t[n]=B(e[n],i[n]):Object.assign(t,{[n]:i[n]}):Object.assign(t,{[n]:i[n]})}),t}function tt(e,i){let t=i.split(".");i="";do{i+=t.shift();let n=!t.length;if(l(e)){if(h(e)&&W(e[i])&&(h(e[i])||f(e[i])||n)){e=e[i],i="";continue}if(f(e)){let r=parseInt(i,10);if(W(e[r])&&(h(e[r])||f(e[r])||n)){e=e[r],i="";continue}}}if(n){e=void 0;continue}i+="."}while(t.length);return e}function Tt(e,i,t){let n=i.split("."),r=e;for(let s=0;s<n.length;s++){let a=n[s];s===n.length-1?r[a]=t:r=r[a]&&h(r[a])?r[a]:{}}}function lt(e,i,t){return B(e,ut(i,t))}function ut(e,i){return e.split(".").reduceRight((t,n)=>({[n]:t}),i)}var C=class{},et=(()=>{class e extends C{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){if(S(t))return this.interpolateString(t,n);if(ot(t))return this.interpolateFunction(t,n)}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(r,s)=>{let a=this.getInterpolationReplacement(n,s);return a!==void 0?a:r}):t}getInterpolationReplacement(t,n){return this.formatValue(tt(t,n))}formatValue(t){if(S(t))return t;if(typeof t=="number"||typeof t=="boolean")return t.toString();if(t===null)return"null";if(f(t))return t.join(", ");if(y(t))return typeof t.toString=="function"&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=x(e)))(r||e)}})();static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),N=(()=>{class e{_onTranslationChange=new D;_onLangChange=new D;_onFallbackLangChange=new D;fallbackLang=null;currentLang;translations={};languages=[];getTranslations(t){return this.translations[t]}setTranslations(t,n,r){this.translations[t]=r&&this.hasTranslationFor(t)?B(this.translations[t],n):n,this.addLanguages([t]),this._onTranslationChange.next({lang:t,translations:this.getTranslations(t)})}getLanguages(){return this.languages}getCurrentLang(){return this.currentLang}getFallbackLang(){return this.fallbackLang}setFallbackLang(t,n=!0){this.fallbackLang=t,n&&this._onFallbackLangChange.next({lang:t,translations:this.translations[t]})}setCurrentLang(t,n=!0){this.currentLang=t,n&&this._onLangChange.next({lang:t,translations:this.translations[t]})}get onTranslationChange(){return this._onTranslationChange.asObservable()}get onLangChange(){return this._onLangChange.asObservable()}get onFallbackLangChange(){return this._onFallbackLangChange.asObservable()}addLanguages(t){this.languages=Array.from(new Set([...this.languages,...t]))}hasTranslationFor(t){return typeof this.translations[t]<"u"}deleteTranslations(t){delete this.translations[t]}getTranslation(t){let n=this.getValue(this.currentLang,t);return n===void 0&&this.fallbackLang!=null&&this.fallbackLang!==this.currentLang&&(n=this.getValue(this.fallbackLang,t)),n}getValue(t,n){return tt(this.getTranslations(t),n)}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),K=new U("TRANSLATE_CONFIG"),F=e=>c(e)?e:T(e),Z=class{},O=(()=>{class e{loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;currentLoader=u(L);compiler=u(b);parser=u(C);missingTranslationHandler=u(w);store=u(N);extend=!1;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onFallbackLangChange(){return this.store.onFallbackLangChange}get onDefaultLangChange(){return this.store.onFallbackLangChange}constructor(){let t=p({extend:!1,fallbackLang:null},u(K,{optional:!0}));t.lang&&this.use(t.lang),t.fallbackLang&&this.setFallbackLang(t.fallbackLang),t.extend&&(this.extend=!0)}setFallbackLang(t){this.getFallbackLang()||this.store.setFallbackLang(t,!1);let n=this.loadOrExtendLanguage(t);return c(n)?(n.pipe(v(1)).subscribe({next:()=>{this.store.setFallbackLang(t)},error:()=>{}}),n):(this.store.setFallbackLang(t),T(this.store.getTranslations(t)))}use(t){this.lastUseLanguage=t,this.getCurrentLang()||this.store.setCurrentLang(t,!1);let n=this.loadOrExtendLanguage(t);return c(n)?(n.pipe(v(1)).subscribe({next:()=>{this.changeLang(t)},error:()=>{}}),n):(this.changeLang(t),T(this.store.getTranslations(t)))}loadOrExtendLanguage(t){if(!this.store.hasTranslationFor(t)||this.extend)return this._translationRequests[t]=this._translationRequests[t]||this.loadAndCompileTranslations(t),this._translationRequests[t]}changeLang(t){t===this.lastUseLanguage&&this.store.setCurrentLang(t)}getCurrentLang(){return this.store.getCurrentLang()}loadAndCompileTranslations(t){this.pending=!0;let n=this.currentLoader.getTranslation(t).pipe(M(1),v(1));return this.loadingTranslations=n.pipe(A(r=>this.compiler.compileTranslations(r,t)),M(1),v(1)),this.loadingTranslations.subscribe({next:r=>{this.store.setTranslations(t,r,this.extend),this.pending=!1},error:r=>{this.pending=!1}}),n}setTranslation(t,n,r=!1){let s=this.compiler.compileTranslations(n,t);this.store.setTranslations(t,s,r||this.extend)}getLangs(){return this.store.getLanguages()}addLangs(t){this.store.addLanguages(t)}getParsedResultForKey(t,n){let r=this.getTextToInterpolate(t);if(l(r))return this.runInterpolation(r,n);let s=this.missingTranslationHandler.handle(p({key:t,translateService:this},n!==void 0&&{interpolateParams:n}));return s!==void 0?s:t}getFallbackLang(){return this.store.getFallbackLang()}getTextToInterpolate(t){return this.store.getTranslation(t)}runInterpolation(t,n){if(l(t))return f(t)?this.runInterpolationOnArray(t,n):h(t)?this.runInterpolationOnDict(t,n):this.parser.interpolate(t,n)}runInterpolationOnArray(t,n){return t.map(r=>this.runInterpolation(r,n))}runInterpolationOnDict(t,n){let r={};for(let s in t){let a=this.runInterpolation(t[s],n);a!==void 0&&(r[s]=a)}return r}getParsedResult(t,n){return t instanceof Array?this.getParsedResultForArray(t,n):this.getParsedResultForKey(t,n)}getParsedResultForArray(t,n){let r={},s=!1;for(let o of t)r[o]=this.getParsedResultForKey(o,n),s=s||c(r[o]);if(!s)return r;let a=t.map(o=>F(r[o]));return H(a).pipe(A(o=>{let d={};return o.forEach((m,it)=>{d[t[it]]=m}),d}))}get(t,n){if(!l(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(_(()=>F(this.getParsedResult(t,n)))):F(this.getParsedResult(t,n))}getStreamOnTranslationChange(t,n){if(!l(t)||!t.length)throw new Error('Parameter "key" is required and cannot be empty');return R(j(()=>this.get(t,n)),this.onTranslationChange.pipe(V(()=>{let r=this.getParsedResult(t,n);return F(r)})))}stream(t,n){if(!l(t)||!t.length)throw new Error('Parameter "key" required');return R(j(()=>this.get(t,n)),this.onLangChange.pipe(V(()=>{let r=this.getParsedResult(t,n);return F(r)})))}instant(t,n){if(!l(t)||t.length===0)throw new Error('Parameter "key" is required and cannot be empty');let r=this.getParsedResult(t,n);return c(r)?Array.isArray(t)?t.reduce((s,a)=>(s[a]=a,s),{}):t:r}set(t,n,r=this.getCurrentLang()){this.store.setTranslations(r,lt(this.store.getTranslations(r),t,S(n)?this.compiler.compile(n,r):this.compiler.compileTranslations(n,r)),!1)}reloadLang(t){return this.resetLang(t),this.loadAndCompileTranslations(t)}resetLang(t){delete this._translationRequests[t],this.store.deleteTranslations(t)}static getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let t=this.getBrowserCultureLang();return t?t.split(/[-_]/)[0]:void 0}static getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}getBrowserLang(){return e.getBrowserLang()}getBrowserCultureLang(){return e.getBrowserCultureLang()}get defaultLang(){return this.getFallbackLang()}get currentLang(){return this.store.getCurrentLang()}get langs(){return this.store.getLanguages()}setDefaultLang(t){return this.setFallbackLang(t)}getDefaultLang(){return this.getFallbackLang()}static \u0275fac=function(n){return new(n||e)};static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})(),vt=(()=>{class e{translateService=u(O);element=u($);_ref=u(E);key;lastParams;currentParams;onLangChangeSub;onFallbackLangChangeSub;onTranslationChangeSub;set translate(t){t&&(this.key=t,this.checkNodes())}set translateParams(t){k(this.currentParams,t)||(this.currentParams=t,this.checkNodes(!0))}constructor(){this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(t=>{t.lang===this.translateService.currentLang&&this.checkNodes(!0,t.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(t=>{this.checkNodes(!0,t.translations)})),this.onFallbackLangChangeSub||(this.onFallbackLangChangeSub=this.translateService.onFallbackLangChange.subscribe(t=>{this.checkNodes(!0)}))}ngAfterViewChecked(){this.checkNodes()}checkNodes(t=!1,n){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes),r.forEach(s=>{let a=s;if(a.nodeType===3){let o;if(t&&(a.lastKey=null),l(a.lookupKey))o=a.lookupKey;else if(this.key)o=this.key;else{let d=this.getContent(a),m=d.trim();m.length&&(a.lookupKey=m,d!==a.currentValue?(o=m,a.originalContent=d||a.originalContent):a.originalContent&&(o=a.originalContent.trim()))}this.updateValue(o,a,n)}})}updateValue(t,n,r){if(t){if(n.lastKey===t&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let s=a=>{(a!==t||!n.lastKey)&&(n.lastKey=t),n.originalContent||(n.originalContent=this.getContent(n)),S(a)?n.currentValue=a:l(a)?n.currentValue=JSON.stringify(a):n.currentValue=n.originalContent||t,this.setContent(n,this.key?n.currentValue:n.originalContent.replace(t,n.currentValue)),this._ref.markForCheck()};if(l(r)){let a=this.translateService.getParsedResult(t,this.currentParams);c(a)?a.subscribe({next:s}):s(a)}else this.translateService.get(t,this.currentParams).subscribe(s)}}getContent(t){return l(t.textContent)?t.textContent:t.data}setContent(t,n){l(t.textContent)?t.textContent=n:t.data=n}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onFallbackLangChangeSub&&this.onFallbackLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}static \u0275fac=function(n){return new(n||e)};static \u0275dir=G({type:e,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}})}return e})(),Ft=(()=>{class e{translate=u(O);_ref=u(E);value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onFallbackLangChange;updateValue(t,n,r){let s=a=>{this.value=a!==void 0?a:t,this.lastKey=t,this._ref.markForCheck()};if(r){let a=this.translate.getParsedResult(t,n);c(a)?a.subscribe(s):s(a)}this.translate.get(t,n).subscribe(s)}transform(t,...n){if(!t||!t.length)return t;if(k(t,this.lastKey)&&k(n,this.lastParams))return this.value;let r;if(l(n[0])&&n.length)if(S(n[0])&&n[0].length){let s=n[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{r=JSON.parse(s)}catch(a){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else h(n[0])&&(r=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{(this.lastKey&&s.lang===this.translate.getCurrentLang()||s.lang===this.translate.getFallbackLang())&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r,s.translations))})),this.onFallbackLangChange||(this.onFallbackLangChange=this.translate.onFallbackLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onFallbackLangChange<"u"&&(this.onFallbackLangChange.unsubscribe(),this.onFallbackLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||e)};static \u0275pipe=z({name:"translate",type:e,pure:!1});static \u0275prov=g({token:e,factory:e.\u0275fac})}return e})();function nt(e){return{provide:L,useClass:e}}function rt(e){return{provide:b,useClass:e}}function at(e){return{provide:C,useClass:e}}function st(e){return{provide:w,useClass:e}}function yt(e={}){return P(p({compiler:rt(X),parser:at(et),loader:nt(Y),missingTranslationHandler:st(Q)},e),!0)}function wt(e={}){return P(p({extend:!0},e),!1)}function P(e={},i){let t=[];e.loader&&t.push(e.loader),e.compiler&&t.push(e.compiler),e.parser&&t.push(e.parser),e.missingTranslationHandler&&t.push(e.missingTranslationHandler),i&&t.push(N),(e.useDefaultLang||e.defaultLanguage)&&(console.warn("The `useDefaultLang` and `defaultLanguage` options are deprecated. Please use `fallbackLang` instead."),e.useDefaultLang===!0&&e.defaultLanguage&&(e.fallbackLang=e.defaultLanguage));let n={fallbackLang:e.fallbackLang??null,lang:e.lang,extend:e.extend??!1};return t.push({provide:K,useValue:n}),t.push({provide:O,useClass:O,deps:[N,L,b,C,w,K]}),t}var kt=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[...P(p({compiler:rt(X),parser:at(et),loader:nt(Y),missingTranslationHandler:st(Q)},t),!0)]}}static forChild(t={}){return{ngModule:e,providers:[...P(t,t.isolate??!1)]}}static \u0275fac=function(n){return new(n||e)};static \u0275mod=q({type:e});static \u0275inj=J({})}return e})();export{mt as a,w as b,Q as c,b as d,X as e,L as f,Y as g,k as h,l as i,W as j,h as k,y as l,f as m,S as n,ot as o,B as p,tt as q,Tt as r,lt as s,C as t,et as u,N as v,K as w,Z as x,O as y,vt as z,Ft as A,nt as B,rt as C,at as D,st as E,yt as F,wt as G,P as H,kt as I};
